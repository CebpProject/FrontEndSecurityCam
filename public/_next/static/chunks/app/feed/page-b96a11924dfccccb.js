(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{4548:function(e,t,n){Promise.resolve().then(n.bind(n,8895))},8895:function(e,t,n){"use strict";n.r(t);var a=n(7437),r=n(2265);let o=e=>{e=e.replace(/;/g,"");let t=[];for(let n=0;n<e.length;n+=6){let a=e.substr(n,6);t.push(parseInt(a.substr(0,2),16)),t.push(parseInt(a.substr(2,2),16)),t.push(parseInt(a.substr(4,2),16))}return t};t.default=()=>{let[e,t]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=setInterval(async()=>{try{let e=await fetch("http://192.168.0.197:8080/api/unprocesedImageInput");if(!e.ok)throw Error("Failed to fetch data");let n=(await e.json()).photoList,a=n.split(";"),r=a.length,s=a[0].length/6,l=1*s,i=1*r,c=o(n),p=new Uint8ClampedArray(l*i*4);for(let e=0;e<c.length;e+=3){let t=Math.floor(e/(3*s)),n=Math.floor(e%(3*s)/3),a=(t*l+n)*4;p[a]=c[e],p[a+1]=c[e+1],p[a+2]=c[e+2],p[a+3]=255}let h=document.createElement("canvas");h.width=l,h.height=i;let u=h.getContext("2d");if(!u)throw Error("Could not get canvas context");let d=new ImageData(p,l,i);u.putImageData(d,0,0);let g=h.toDataURL();t(g)}catch(e){console.error("Error processing image:",e)}},50);return()=>clearInterval(e)},[]);let n=async()=>{try{let e=await fetch("http://192.168.0.197:8080/api/openSignal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({open:"true"})});if(!e.ok)throw Error("Failed to send open signal");let t=await e.json();console.log("Open signal sent successfully:",t)}catch(e){console.error("Error sending open signal:",e)}};return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Live Image Viewer"}),e?(0,a.jsx)("img",{src:e,alt:"Live",className:"max-w-full"}):(0,a.jsx)("p",{children:"Loading..."}),(0,a.jsx)("button",{onClick:n,className:"relative bg-accent-dark rounded-md outline-none shadow-[0_3px_0px_0px_rgba(255,255,255)] font-extrabold hover:bg-accent hover:shadow-[0_2px_0px_0px_rgba(255,255,255)] hover:translate-y-[2px] active:shadow-none active:translate-y-[4px] transition duration-[100] ease-in-out text-center justify-center p-3 pl-12 pr-12 mt-4",children:"Send Open Signal"})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=4548)}),_N_E=e.O()}]);